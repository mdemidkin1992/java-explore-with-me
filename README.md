# java-explore-with-me

Ссылка на PR: https://github.com/mdemidkin1992/java-explore-with-me/pull/5

#### Дополнительный функиционал: ```location_processing```

1. Администратор имеет возможность добавлять новые локации ```Location```
2. Зарегистрированные пользователи, выставляя события, указывают его координаты (```lat```, ```lon```):
   - По геопозиции вычисляются ближайшие к событию локации, в радиус которых попадает события (```locationList```)
   - У каждой локации также есть список входящих в нее событий (```eventList```), возникает связь ```many-to-many```
3. Обычные пользователи могут смотреть список ```APPROVED_BY_ADMIN``` локаций и списки ```PUBLISHED``` событий в локациях:
   - Список ```APPROVED_BY_ADMIN``` локаций включает в себя счетчик событий (```events```)
   - Списки событий, которые могут просмотривать пользователи обязаны пройти публикацию администратора

![EWM.pdf](https://github.com/mdemidkin1992/java-explore-with-me/files/12412247/EWM.pdf)

#### Добавленные контроллеры
#### Admin
* ```POST /admin/locations```
* ```UPDATE /admin/locations/{id}```
* ```DELETE /admin/locations/{id}```

#### Public
* ```GET /locations``` – получение списка всех одобренных локаций
* ```GET /events/{locationId}/locations``` – получение списка опубликованных событий в локации

#### Обновленная модель данных

Локация как добавляет ее администратор ```Location```: ```name```, ```lat```, ```lon```, ```rad```.

При просмотре списка локаций возвращаем DTO ```LocationDtoWithEventsCount```:
* ```name``` Название локации
* ```events``` Количество событий в локации

Выводятся только одобренные администратором локации со статусом ```APPROVED_BY_ADMIN```.